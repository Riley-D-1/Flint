<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flashcards</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="cards_style.css">
</head>


<body>
    <div class="heading">
        <img src="oriented.jpg" alt="Logo" style="max-width: 62.5px; max-height: 62.5px;"></a>
        <div class="header-r">
            <a href="index.html">Home</a>
            <a href="cards.html">Cards</a>
            <a href="print.html">Print</a>
            <a href="flash_card_maker.html">Flashcard Maker</a>
            <a href="help.html">Help</a>
        </div>
    </div>


    <div class = flashcards>
        <div id = "flash_box">
        <p id="flash_info">Flashcards not found, please use the flashcard maker to load a markdown file. (Once loaded click next to remove this help tip)</p>
        </div>
        
<!-- Need to add further flashcard functionality-->
    </div>
        <div id = "buttons">
            <button id = "Previous" >Previous</button>
            <button id ="Flip">Flip</button>
            <button id = "Next">Next</button>
        </div>
</body>
<script>
    
    //const flashcards = [
            //{front:"What is the 5 oceans of the world",back:"The answer is Pacific Ocean, Atlantic Ocean, Indian Ocean, Southern Ocean, and Arctic Ocean"},
            //{front:"What is the capital of canada?",back:"Ottawa"}
        //]

    let id = -1
    const temp_flashcards = localStorage.getItem("Flashcard");
    console.log(temp_flashcards)
    flashcards = JSON.parse(temp_flashcards)
    console.log(flashcards)
    let cur_state = "front"
    function flip(state,id){
        if (state === "front"){
            document.getElementById("flash_info").textContent = flashcards[id].back;
            return "back"
        }else{
            document.getElementById("flash_info").textContent = flashcards[id].front;
           return "front"
        }
    }
    function next(id){
        id++
        document.getElementById("flash_info").textContent = flashcards[id].front
        return id
    }
    function previous(id){
        id--
        document.getElementById("flash_info").textContent = flashcards[id].front
        return id
    }
    
    document.addEventListener('keydown',(event) => {
    if (event.key === ' '){
        cur_state = flip(cur_state,id)
    } else if (event.key === 'ArrowRight'){
       id = next(id)
    }    
    else if (event.key === 'ArrowLeft'){
       id = previous(id)
    }
    });

    const next_button = document.getElementById("Next")
    next_button.addEventListener('click',() => {id = next(id);});
    const flip_button = document.getElementById("Flip")
    flip_button.addEventListener('click', () => {cur_state = flip(cur_state, id);});
    const previous_button = document.getElementById("Previous")
    previous_button.addEventListener('click', () => {id = previous(id);});
    // Need to use blur so buttons dont stay sticky per say
    // In the future will import from the flashcard maker or manual flashcard creation
    
    
    
</script>
</html>
